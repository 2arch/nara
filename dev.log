
> nara@0.1.0 dev
> next dev

 ⚠ Port 3000 is in use, trying 3001 instead.
   ▲ Next.js 15.2.4
   - Local:        http://localhost:3001
   - Network:      http://192.168.3.76:3001
   - Environments: .env

 ✓ Starting...
 ✓ Ready in 3.1s
 ○ Compiling / ...
 ✓ Compiled / in 9.1s (895 modules)
 ⨯ ReferenceError: Cannot access 'updateSettings' before initialization
    at useWorldEngine (app/bitworld/world.engine.ts:702:109)
    at Home (app/page.tsx:32:32)
  700 |         artefactsEnabled,
  701 |         artifactType,
> 702 |     } = useCommandSystem({ setDialogueText, initialBackgroundColor, getAllLabels, availableStates, username, updateSettings, settings });
      |                                                                                                             ^
  703 |
  704 |     // Generate search data when search pattern changes
  705 |     useEffect(() => { {
  digest: '3434126527'
}
 GET / 500 in 10487ms
 ⨯ ReferenceError: Cannot access 'updateSettings' before initialization
    at useWorldEngine (app/bitworld/world.engine.ts:702:109)
    at Home (app/page.tsx:32:32)
  700 |         artefactsEnabled,
  701 |         artifactType,
> 702 |     } = useCommandSystem({ setDialogueText, initialBackgroundColor, getAllLabels, availableStates, username, updateSettings, settings });
      |                                                                                                             ^
  703 |
  704 |     // Generate search data when search pattern changes
  705 |     useEffect(() => { {
  digest: '3434126527'
}
 ✓ Compiled in 1696ms (353 modules)
 GET / 500 in 322ms
 ○ Compiling /[username] ...
 ✓ Compiled /[username] in 4.2s (908 modules)
 ⚠ Fast Refresh had to perform a full reload due to a runtime error.
 ⨯ ReferenceError: Cannot access 'updateSettings' before initialization
    at useWorldEngine (app/bitworld/world.engine.ts:702:109)
    at Home (app/page.tsx:32:32)
  700 |         artefactsEnabled,
  701 |         artifactType,
> 702 |     } = useCommandSystem({ setDialogueText, initialBackgroundColor, getAllLabels, availableStates, username, updateSettings, settings });
      |                                                                                                             ^
  703 |
  704 |     // Generate search data when search pattern changes
  705 |     useEffect(() => { {
  digest: '3434126527'
}
 GET /favicon.ico 200 in 5189ms
 GET / 500 in 629ms
 ⨯ ReferenceError: Cannot access 'updateSettings' before initialization
    at useWorldEngine (app/bitworld/world.engine.ts:702:109)
    at UserHome (app/[username]/page.tsx:28:32)
  700 |         artefactsEnabled,
  701 |         artifactType,
> 702 |     } = useCommandSystem({ setDialogueText, initialBackgroundColor, getAllLabels, availableStates, username, updateSettings, settings });
      |                                                                                                             ^
  703 |
  704 |     // Generate search data when search pattern changes
  705 |     useEffect(() => { {
  digest: '3746508971'
}
 ⨯ ReferenceError: Cannot access 'updateSettings' before initialization
    at useWorldEngine (app/bitworld/world.engine.ts:702:109)
    at UserHome (app/[username]/page.tsx:28:32)
  700 |         artefactsEnabled,
  701 |         artifactType,
> 702 |     } = useCommandSystem({ setDialogueText, initialBackgroundColor, getAllLabels, availableStates, username, updateSettings, settings });
      |                                                                                                             ^
  703 |
  704 |     // Generate search data when search pattern changes
  705 |     useEffect(() => { {
  digest: '3746508971'
}
 GET /favicon.ico 500 in 782ms
 ⨯ ./app/bitworld/world.engine.ts
Module parse failed: Identifier 'settings' has already been declared (561:12)
|     ]);
|     // === Settings System ===
>     const { settings, setSettings, updateSettings } = useWorldSettings();
|     // === Ambient Text Compilation System ===
|     const [compiledTextCache, setCompiledTextCache] = useState({});

Import trace for requested module:
./app/bitworld/world.engine.ts
./app/page.tsx
 ✓ Compiled in 898ms (926 modules)
 GET / 200 in 594ms
 GET /@jun 200 in 52ms
 ✓ Compiled /[username]/[...slug] in 490ms (915 modules)
 GET /@jun/los-angeles 200 in 1811ms
 ✓ Compiled in 1372ms (933 modules)
 GET /@jun/los-angeles 200 in 216ms
 ✓ Compiled in 2.9s (933 modules)
 ✓ Compiled in 1935ms (933 modules)
 ⨯ [Error: Invariant: missing bootstrap script. This is a bug in Next.js] {
  page: '/'
}
 ○ Compiling /_not-found ...
 ✓ Compiled /_not-found in 6.3s (1248 modules)
 GET /@jun 404 in 6998ms
 GET / 500 in 9413ms
 GET /@jun 200 in 798ms
 GET /_next/static/chunks/app/%5Busername%5D/page.js 200 in 104ms
 ⨯ Failed to generate static paths for /[username]:
Error: Cannot find module './vendor-chunks/three.js'
Require stack:
- /Users/jun/nara/.next/server/webpack-runtime.js
- /Users/jun/nara/.next/server/app/[username]/page.js
- /Users/jun/nara/node_modules/next/dist/server/require.js
- /Users/jun/nara/node_modules/next/dist/server/load-components.js
- /Users/jun/nara/node_modules/next/dist/build/utils.js
- /Users/jun/nara/node_modules/next/dist/server/dev/static-paths-worker.js
- /Users/jun/nara/node_modules/next/dist/compiled/jest-worker/processChild.js
    at __webpack_require__.f.require (.next/server/webpack-runtime.js:198:28)
    at <unknown> (.next/server/webpack-runtime.js:111:40)
    at Array.reduce (<anonymous>)
    at __webpack_require__.e (.next/server/webpack-runtime.js:110:67) {
  type: 'Error',
  code: 'MODULE_NOT_FOUND',
  requireStack: [Array]
}
 ⨯ Failed to generate static paths for /[username]/[...slug]:
Error: Cannot find module './vendor-chunks/three.js'
Require stack:
- /Users/jun/nara/.next/server/webpack-runtime.js
- /Users/jun/nara/.next/server/app/[username]/[...slug]/page.js
- /Users/jun/nara/node_modules/next/dist/server/require.js
- /Users/jun/nara/node_modules/next/dist/server/load-components.js
- /Users/jun/nara/node_modules/next/dist/build/utils.js
- /Users/jun/nara/node_modules/next/dist/server/dev/static-paths-worker.js
- /Users/jun/nara/node_modules/next/dist/compiled/jest-worker/processChild.js
    at __webpack_require__.f.require (.next/server/webpack-runtime.js:198:28)
    at <unknown> (.next/server/webpack-runtime.js:111:40)
    at Array.reduce (<anonymous>)
    at __webpack_require__.e (.next/server/webpack-runtime.js:110:67) {
  type: 'Error',
  code: 'MODULE_NOT_FOUND',
  requireStack: [Array]
}
 ⨯ Error: Cannot find module './vendor-chunks/three.js'
Require stack:
- /Users/jun/nara/.next/server/webpack-runtime.js
- /Users/jun/nara/.next/server/app/[username]/page.js
- /Users/jun/nara/node_modules/next/dist/server/require.js
- /Users/jun/nara/node_modules/next/dist/server/load-components.js
- /Users/jun/nara/node_modules/next/dist/build/utils.js
- /Users/jun/nara/node_modules/next/dist/server/dev/static-paths-worker.js
- /Users/jun/nara/node_modules/next/dist/compiled/jest-worker/processChild.js
    at __webpack_require__.f.require (.next/server/webpack-runtime.js:198:28)
    at <unknown> (.next/server/webpack-runtime.js:111:40)
    at Array.reduce (<anonymous>)
    at __webpack_require__.e (.next/server/webpack-runtime.js:110:67) {
  type: 'Error',
  code: 'MODULE_NOT_FOUND',
  requireStack: [Array],
  page: '/@jun'
}
 GET /@jun 500 in 1202ms
 ⨯ Error: Cannot find module './vendor-chunks/three.js'
Require stack:
- /Users/jun/nara/.next/server/webpack-runtime.js
- /Users/jun/nara/.next/server/app/[username]/page.js
- /Users/jun/nara/node_modules/next/dist/server/require.js
- /Users/jun/nara/node_modules/next/dist/server/load-components.js
- /Users/jun/nara/node_modules/next/dist/build/utils.js
- /Users/jun/nara/node_modules/next/dist/server/dev/static-paths-worker.js
- /Users/jun/nara/node_modules/next/dist/compiled/jest-worker/processChild.js
    at __webpack_require__.f.require (.next/server/webpack-runtime.js:198:28)
    at <unknown> (.next/server/webpack-runtime.js:111:40)
    at Array.reduce (<anonymous>)
    at __webpack_require__.e (.next/server/webpack-runtime.js:110:67) {
  type: 'Error',
  code: 'MODULE_NOT_FOUND',
  requireStack: [Array],
  page: '/favicon.ico'
}
 GET /favicon.ico 500 in 1097ms
 ✓ Compiled in 2.4s (1262 modules)
 ✓ Compiled in 2s (1262 modules)
 ✓ Compiled in 2.4s (1262 modules)
 ✓ Compiled in 1433ms (1262 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jun/nara/.next/cache/webpack/client-development/14.pack.gz_' -> '/Users/jun/nara/.next/cache/webpack/client-development/14.pack.gz'
 ✓ Compiled in 316ms (611 modules)
 ✓ Compiled in 1438ms (1264 modules)
 ✓ Compiled in 1147ms (1264 modules)
 ✓ Compiled in 3.6s (1264 modules)
 ✓ Compiled in 931ms (1264 modules)
 ✓ Compiled in 1119ms (1264 modules)
 ✓ Compiled in 1125ms (1264 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: invalid stored block lengths
   Reload env: .env
 ✓ Compiled in 1003ms (1246 modules)
 ✓ Compiled in 668ms (1264 modules)
 ✓ Compiled in 802ms (1264 modules)
 ✓ Compiled in 518ms (612 modules)
 ✓ Compiled in 245ms (612 modules)
 ✓ Compiled in 492ms (612 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jun/nara/.next/cache/webpack/client-development/1.pack.gz_' -> '/Users/jun/nara/.next/cache/webpack/client-development/1.pack.gz'
 ✓ Compiled in 289ms (612 modules)
 ✓ Compiled in 1288ms (1264 modules)
 ✓ Compiled in 655ms (1264 modules)
 ✓ Compiled in 775ms (1264 modules)
 ✓ Compiled in 920ms (1264 modules)
 ✓ Compiled in 711ms (1264 modules)
 ✓ Compiled in 1510ms (1264 modules)
 ✓ Compiled in 690ms (1264 modules)
 ✓ Compiled in 766ms (1264 modules)
 ✓ Compiled in 614ms (1264 modules)
 ✓ Compiled in 1075ms (1264 modules)
 ✓ Compiled in 942ms (1264 modules)
 ✓ Compiled in 885ms (1264 modules)
 ✓ Compiled in 1949ms (1264 modules)
 ✓ Compiled in 1288ms (1264 modules)
 ✓ Compiled in 691ms (1264 modules)
 GET / 200 in 498ms
 ✓ Compiled in 300ms (612 modules)
 ✓ Compiled in 221ms (612 modules)
 ✓ Compiled in 175ms (612 modules)
 ✓ Compiled in 143ms (612 modules)
